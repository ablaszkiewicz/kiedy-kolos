(this["webpackJsonpkiedy-kolos"]=this["webpackJsonpkiedy-kolos"]||[]).push([[0],{22:function(e,t,n){},30:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n(0),i=n.n(c),s=n(10),r=n.n(s),o=(n(22),n(9),n(4)),l=n.n(o),d=n(6),j=n(3),h=n(5),u=function(e){return{type:"SET",payload:e}},b=n(2),p=n(8),O=n.n(p),v=function(e){var t=e.day,n=e.active,c=e.events,i=(Object(h.c)((function(e){return e.chosenDate})),Object(h.b)());return Object(a.jsxs)(b.a.div,{className:"calendar__day "+(n?"":"calendar__day--inactive"),tabindex:"0",onClick:function(){i(u(t))},variants:{hidden:{opacity:0,x:-25},show:{opacity:1,x:0}},whileHover:{y:-2,scale:1.05},whileTap:{y:0,scale:.95},children:[Object(a.jsx)("div",{className:"events",children:Object(a.jsx)("ul",{class:"events__list",children:c.map((function(e){return Object(a.jsx)("li",{className:"events__item events__item--exam",children:e.short_name.toUpperCase()},e.id)}))})}),Object(a.jsx)("div",{class:"day__number",children:O()(t).format("DD")})]})},f=(n(15),function(){var e={hidden:{opacity:0,x:-25},show:{opacity:1,x:0}};return Object(a.jsx)("div",{className:"calendar__names",children:Object(a.jsxs)(b.a.ul,{variants:{hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.05}}},initial:"hidden",animate:"show",children:[Object(a.jsx)(b.a.li,{variants:e,children:"poniedzia\u0142ek"}),Object(a.jsx)(b.a.li,{variants:e,children:"wtorek"}),Object(a.jsx)(b.a.li,{variants:e,children:"\u015broda"}),Object(a.jsx)(b.a.li,{variants:e,children:"czwartek"}),Object(a.jsx)(b.a.li,{variants:e,children:"pi\u0105tek"}),Object(a.jsx)(b.a.li,{variants:e,children:"sobota"}),Object(a.jsx)(b.a.li,{variants:e,children:"niedziela"})]})})}),_=function(){var e=Object(c.useState)([]),t=Object(j.a)(e,2),n=t[0],i=t[1],s=Object(c.useState)([]),r=Object(j.a)(s,2),o=r[0],p=r[1],_=Object(c.useState)(),x=Object(j.a)(_,2),m=x[0],y=x[1],k=Object(c.useState)(0),w=Object(j.a)(k,2),g=w[0],M=w[1],N=Object(h.b)(),z=[7,1,2,3,4,5,6],S=O()();Object(c.useEffect)((function(){y(parseInt(S.format("MM"))),N(u(S.format("YYYY-MM-DD"))),E(),D()}),[]);var D=function(){var e=Object(d.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://aleksanderblaszkiewicz.pl/kiedykolos/get_events.php");case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,i(n),console.log(n);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=function(){for(var e=new Array(42),t=z[S.startOf("month").day()],n=S.startOf("month").subtract(t-1,"day"),a=0;a<42;a++)e[a]=n.add(a,"day").format("YYYY-MM-DD");p(e)},C=function(e){var t=[];return n.forEach((function(n){n.date==e&&t.push(n)})),t},T=function(e){var t=S.add(g,"month"),n=O()(e);return console.log("Checking if "+n.format("MM")+" belongs to "+t.format("MM")+": "),n.format("MM")==t.format("MM")},Y={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.05}}},I=o.map((function(e){return Object(a.jsx)(v,{active:T(e),day:e,events:C(e)},e)})).reduce((function(e,t,n){return n%7===0&&e.push([]),e[e.length-1].push(t),e}),[]).map((function(e){return Object(a.jsx)(b.a.div,{className:"calendar__row",variants:Y,initial:"hidden",animate:"show",children:e})}));return Object(a.jsxs)("div",{className:"app__calendar",children:[Object(a.jsxs)("div",{className:"calendar__month",children:[Object(a.jsx)("button",{className:"month__button",onClick:function(){return function(){var e=g;e--,M(e),S=S.add(e,"month"),y(parseInt(S.format("MM"))),E()}()},children:"<"}),Object(a.jsx)("h2",{className:"month__title",children:["Stycze\u0144","Luty","Marzec","Kwiecie\u0144","Maj","Czerwiec","Lipiec","Sierpie\u0144","Wrzesie\u0144","Pa\u017adziernik","Listopad","Grudzie\u0144"][m-1]}),Object(a.jsx)("button",{className:"month__button",onClick:function(){return function(){p([]);var e=g;e++,M(e),S=S.add(e,"month"),y(parseInt(S.format("MM"))),E()}()},children:">"})]}),Object(a.jsx)(f,{}),Object(a.jsx)(b.a.div,{className:"calendar__days",children:I})]})},x=function(e){var t=e.event;return Object(a.jsx)("div",{class:"app__info",children:t&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("h3",{children:t.name}),Object(a.jsxs)("ul",{class:"app__links",children:[Object(a.jsx)("a",{children:Object(a.jsx)("li",{class:"app__link",children:"eNauczanie"})}),Object(a.jsx)("a",{children:Object(a.jsx)("li",{class:"app__link",children:"Prezentacja"})}),Object(a.jsx)("a",{children:Object(a.jsx)("li",{class:"app__link",children:"Dysk Google"})})]}),Object(a.jsx)("div",{class:"app__info-text",children:t.description})]})})},m=function(){var e=Object(c.useState)([]),t=Object(j.a)(e,2),n=t[0],i=t[1],s=Object(c.useState)(),r=Object(j.a)(s,2),o=r[0],u=r[1],p=Object(h.c)((function(e){return e.chosenDate})),O="https://aleksanderblaszkiewicz.pl/kiedykolos/get_events_for_day.php?date=".concat(p);Object(c.useEffect)((function(){i([]),v()}),[p]);var v=function(){var e=Object(d.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(O);case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,i(n),u(n[0]);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f={hidden:{opacity:0,x:100},show:{opacity:1,x:0,transition:{type:"spring",stiffness:600,damping:50}}};return Object(a.jsxs)("div",{className:"app__extension",children:[Object(a.jsxs)(b.a.div,{className:"app__events",children:[Object(a.jsxs)("h2",{class:"events__header",children:["Wydarzenia ",p]}),Object(a.jsx)(b.a.ul,{class:"events-list",variants:{hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.07}}},initial:"hidden",animate:n.length>0&&"show",children:n.map((function(e){return Object(a.jsxs)(b.a.li,{className:"events-list__item",variants:f,whileTap:{scale:.95},onClick:function(){return u(e)},children:[Object(a.jsx)("h3",{children:e.name}),Object(a.jsxs)("div",{class:"events-list__info",children:[Object(a.jsx)("div",{class:"events-list__time",children:"11:30 - 12:45"}),Object(a.jsx)("div",{class:"events-list__category",children:"Projekt"})]})]},e.id)}))})]}),Object(a.jsx)(x,{event:o})]})},y=function(){return Object(a.jsx)("div",{class:"container",children:Object(a.jsxs)("div",{class:"app",children:[Object(a.jsx)(_,{}),Object(a.jsx)(m,{})]})})},k=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,32)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,i=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),i(e),s(e)}))},w=n(7),g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"2020-11-01",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET":return t.payload;default:return e}},M=Object(w.b)({chosenDate:g}),N=Object(w.c)(M,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());r.a.render(Object(a.jsx)(i.a.StrictMode,{children:Object(a.jsx)(h.a,{store:N,children:Object(a.jsx)(y,{})})}),document.getElementById("root")),k()},9:function(e,t,n){}},[[30,1,2]]]);
//# sourceMappingURL=main.c6df7ae9.chunk.js.map