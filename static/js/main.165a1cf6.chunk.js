(this["webpackJsonpkiedy-kolos"]=this["webpackJsonpkiedy-kolos"]||[]).push([[0],{14:function(e,t,n){},34:function(e,t,n){},41:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n(0),i=n.n(c),s=n(19),r=n.n(s),o=(n(34),n(14),n(7)),l=n.n(o),u=n(12),d=n(5),j=n(6),p=function(e){return{type:"SET_DATE",payload:e}},b=n(2),h=n(13),O=n.n(h),f=function(e){var t=e.day,n=e.active,c=e.events,i=e.swipeDirection,s=Object(j.b)(),r=Object(j.c)((function(e){return e.chosenDate})),o={hidden:{opacity:0,x:100*i},show:{opacity:1,x:0,transition:{type:"spring",stiffness:600,damping:50}}};return Object(a.jsxs)(b.b.div,{className:"calendar__day "+(t==r?"calendar__day--selected":n?0==O()(t).day()||6==O()(t).day()?" calendar__day--weekend ":void 0:" calendar__day--inactive "),tabindex:"0",onClick:function(){s(p(t))},variants:o,whileHover:{y:-2,scale:1.05},whileTap:{y:0,scale:.95},children:[Object(a.jsx)("div",{className:"events",children:Object(a.jsx)("ul",{className:"events__list",children:c.map((function(e){return Object(a.jsx)(v,{event:e})}))})}),Object(a.jsx)("div",{className:"day__number",children:O()(t).format("DD")})]})},v=function(e){var t=e.event;return Object(a.jsx)("li",{className:"events__item "+(console.log("EEEEEEEEEEEEEE: "+t.type),"Kolokwium"==t.type?" events__item--exam ":"Projekt"==t.type?" events__item--project ":"Egzamin"==t.type?" events__item--exam ":"Laboratorium"==t.type?" events__item--lab ":"Inne"==t.type?" events__item--other ":void 0),children:t.short_name.toUpperCase()},t.id)},m=n(18),_=function(e){e.refreshEvents;var t,n,i=Object(c.useState)([]),s=Object(d.a)(i,2),r=s[0],o=s[1],j=Object(c.useState)([]),p=Object(d.a)(j,2),b=p[0],h=p[1],O=Object(c.useState)([]),f=Object(d.a)(O,2),v=f[0],_=f[1],x=Object(c.useState)(0),y=Object(d.a)(x,2),g=y[0],w=y[1],k=Object(c.useState)(0),E=Object(d.a)(k,2),N=E[0],S=E[1],C=Object(c.useState)(0),D=Object(d.a)(C,2),z=D[0],T=D[1],G=Object(c.useState)("2020-12-12"),M=Object(d.a)(G,2),I=M[0],H=M[1],L=Object(c.useState)("12:00"),Y=Object(d.a)(L,2),P=Y[0],A=Y[1],F=Object(c.useState)(""),R=Object(d.a)(F,2),U=R[0],W=R[1],J=Object(c.useState)(""),X=Object(d.a)(J,2),K=X[0],B=X[1];Object(c.useEffect)((function(){V(),Z(),q()}),[]);var V=function(){var e=Object(u.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://aleksanderblaszkiewicz.pl/kiedykolos/get_courses.php");case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,o(n),w(n[0].id);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Z=function(){var e=Object(u.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://aleksanderblaszkiewicz.pl/kiedykolos/get_groups.php");case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,h(n),S(n[0].id);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),q=function(){var e=Object(u.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://aleksanderblaszkiewicz.pl/kiedykolos/get_types.php");case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,_(n),T(n[0].id);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Q=function(){var e=Object(u.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({courseID:g,groupID:N,time:P,date:I,description:U,typeID:z,password:K}),mode:"no-cors"},e.next=3,fetch("https://aleksanderblaszkiewicz.pl/kiedykolos/add_event.php",t);case 3:n=e.sent,console.log(n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("select",{name:"course",id:"course",form:"add-event",value:g,onChange:function(e){w(e.target.value)},children:r.map((function(e){return Object(a.jsx)("option",{value:e.id,children:e.name},e.id)}))}),Object(a.jsx)("select",{name:"groupID",id:"groupID",form:"add-event",value:N,onChange:function(e){S(e.target.value)},children:b.map((function(e){return Object(a.jsx)("option",{value:e.id,children:e.name},e.id)}))}),Object(a.jsx)("select",{name:"typeID",id:"typeID",form:"add-event",value:z,onChange:function(e){T(e.target.value)},children:v.map((function(e){return Object(a.jsx)("option",{value:e.id,children:e.name},e.id)}))}),Object(a.jsx)("input",(t={type:"date",id:"date",name:"date",value:"2020-11-25",min:"2020-11-25",max:"2021-12-31"},Object(m.a)(t,"value",I),Object(m.a)(t,"onChange",(function(e){H(e.target.value)})),t)),Object(a.jsx)("input",(n={type:"time",id:"time",name:"time",min:"07:00",value:"16:00:00",max:"21:00"},Object(m.a)(n,"value",P),Object(m.a)(n,"onChange",(function(e){A(e.target.value)})),n)),Object(a.jsx)("input",{type:"text",id:"fname",name:"fname",placeholder:"Has\u0142o",onChange:function(e){B(e.target.value)}}),Object(a.jsx)("textarea",{id:"description",name:"description",rows:"4",cols:"50",placeholder:"Tu wpisz opis...",value:U,onChange:function(e){W(e.target.value)}}),Object(a.jsx)("button",{onClick:Q,children:"DODAJ WYDARZENIE"})]})},x=function(){var e=Object(c.useState)(!1),t=Object(d.a)(e,2),n=t[0],i=t[1];return Object(a.jsxs)("div",{class:"calendar__tools",children:[Object(a.jsx)(b.b.button,{class:"calendar__settings",onClick:function(){i(!n)},whileTap:{scale:.9},whileHover:{scale:1.1},children:Object(a.jsx)("i",{class:"fas fa-cog"})}),Object(a.jsxs)("button",{class:"calendar__notifications",children:[Object(a.jsx)("i",{class:"fas fa-bell"}),Object(a.jsx)("div",{class:"notification__count",children:Object(a.jsx)("i",{class:"fas fa-infinity"})})]}),Object(a.jsx)(b.a,{children:n&&Object(a.jsx)(y,{})})]})},y=function(){var e=Object(j.b)(),t=Object(j.c)((function(e){return e.chosenGroup})),n=function(t){e({type:"SET_GROUP",payload:t})},c=function(e){if(e==t)return" group__number--selected "};return Object(a.jsxs)(b.b.div,{class:"settings",initial:{opacity:0,y:-100,scale:0},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-100,scale:0},transition:{type:"spring",stiffness:600,damping:50},children:[Object(a.jsxs)("div",{class:"group",children:[Object(a.jsx)("h3",{class:"group__header",children:"Grupa"}),Object(a.jsxs)("ul",{class:"group__list",children:[Object(a.jsx)(b.b.li,{class:"group__number "+c("Grupa 1"),whileTap:{scale:.9,y:0},whileHover:{scale:1.1,y:-5},onClick:function(){return n("Grupa 1")},children:"1"}),Object(a.jsx)(b.b.li,{class:"group__number "+c("Grupa 2"),whileTap:{scale:.9,y:0},whileHover:{scale:1.1,y:-5},onClick:function(){return n("Grupa 2")},children:"2"}),Object(a.jsx)(b.b.li,{class:"group__number "+c("Grupa 3"),whileTap:{scale:.9,y:0},whileHover:{scale:1.1,y:-5},onClick:function(){return n("Grupa 3")},children:"3"}),Object(a.jsx)(b.b.li,{class:"group__number "+c("Grupa 4"),whileTap:{scale:.9,y:0},whileHover:{scale:1.1,y:-5},onClick:function(){return n("Grupa 4")},children:"4"}),Object(a.jsx)(b.b.li,{class:"group__number "+c("Grupa 5"),whileTap:{scale:.9,y:0},whileHover:{scale:1.1,y:-5},onClick:function(){return n("Grupa 5")},children:"5"}),Object(a.jsx)(b.b.li,{class:"group__number "+c("Grupa 6"),whileTap:{scale:.9,y:0},whileHover:{scale:1.1,y:-5},onClick:function(){return n("Grupa 6")},children:"6"})]})]}),Object(a.jsxs)("div",{class:"theme",children:[Object(a.jsx)("h3",{class:"theme__header",children:"Motyw"}),Object(a.jsxs)("ul",{class:"theme__list",children:[Object(a.jsx)("div",{class:"theme__item theme__item--light"}),Object(a.jsx)("div",{class:"theme__item theme__item--dark theme__item--selected"})]})]})]})},g=function(){var e={hidden:{opacity:0,x:-25},show:{opacity:1,x:0}};return Object(a.jsx)("div",{className:"calendar__names",children:Object(a.jsxs)(b.b.ul,{variants:{hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.05}}},initial:"hidden",animate:"show",children:[Object(a.jsx)(b.b.li,{variants:e,children:"poniedzia\u0142ek"}),Object(a.jsx)(b.b.li,{variants:e,children:"wtorek"}),Object(a.jsx)(b.b.li,{variants:e,children:"\u015broda"}),Object(a.jsx)(b.b.li,{variants:e,children:"czwartek"}),Object(a.jsx)(b.b.li,{variants:e,children:"pi\u0105tek"}),Object(a.jsx)(b.b.li,{variants:e,children:"sobota"}),Object(a.jsx)(b.b.li,{variants:e,children:"niedziela"})]})})},w=function(){var e=Object(c.useState)([]),t=Object(d.a)(e,2),n=t[0],i=t[1],s=Object(c.useState)([]),r=Object(d.a)(s,2),o=r[0],h=r[1],v=Object(c.useState)(),m=Object(d.a)(v,2),_=m[0],y=m[1],w=Object(c.useState)(0),k=Object(d.a)(w,2),E=k[0],N=k[1],S=Object(c.useState)(1),C=Object(d.a)(S,2),D=C[0],z=C[1],T=Object(j.b)(),G=Object(j.c)((function(e){return e.chosenGroup})),M=[7,1,2,3,4,5,6],I=O()();Object(c.useEffect)((function(){y(parseInt(I.format("MM"))),T(p(I.format("YYYY-MM-DD"))),Y(),H()}),[]),Object(c.useEffect)((function(){H()}),[G]);var H=function(){var e=Object(u.a)(l.a.mark((function e(){var t,n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://aleksanderblaszkiewicz.pl/kiedykolos/get_events.php");case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,a=n.filter(L),i(a),console.log(a);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=function(e){return"Wszystkie"==e.group_name||e.group_name==G?(console.log("event "+e.id+" should be displayed"),!0):(console.log("event "+e.id+" should NOT be displayed"),!1)},Y=function(){for(var e=new Array(42),t=M[I.startOf("month").day()],n=I.startOf("month").subtract(t-1,"day"),a=0;a<42;a++)e[a]=n.add(a,"day").format("YYYY-MM-DD");h(e)},P=function(e){var t=[];return n.forEach((function(n){n.date==e&&t.push(n)})),t},A=function(e){var t=I.add(E,"month");return O()(e).format("MM")==t.format("MM")},F={hidden:{opacity:0},show:{opacity:1}},R=o.map((function(e){return Object(a.jsx)(f,{active:A(e),day:e,events:P(e),swipeDirection:D},e)})).reduce((function(e,t,n){return n%7===0&&e.push([]),e[e.length-1].push(t),e}),[]).map((function(e){return Object(a.jsx)(b.b.div,{className:"calendar__row",variants:F,initial:"hidden",animate:"show",children:e})}));return Object(a.jsxs)("div",{className:"app__calendar",children:[Object(a.jsxs)("div",{className:"calendar__month",children:[Object(a.jsx)("button",{className:"month__button",onClick:function(){return function(){z(-1);var e=E;e--,N(e),I=I.add(e,"month"),y(parseInt(I.format("MM"))),Y()}()},children:"<"}),Object(a.jsx)(b.b.h2,{className:"month__title",initial:{x:50*D},animate:{x:0},transition:{type:"spring",stiffness:600,damping:50},children:["Stycze\u0144","Luty","Marzec","Kwiecie\u0144","Maj","Czerwiec","Lipiec","Sierpie\u0144","Wrzesie\u0144","Pa\u017adziernik","Listopad","Grudzie\u0144"][_-1]},_),Object(a.jsx)("button",{className:"month__button",onClick:function(){return function(){z(1);var e=E;e++,N(e),I=I.add(e,"month"),y(parseInt(I.format("MM"))),Y()}()},children:">"})]}),Object(a.jsx)(x,{}),Object(a.jsx)(g,{}),Object(a.jsx)(b.b.div,{className:"calendar__days",children:R})]})},k=function(e){var t=e.event,n=e.setChosenEvent,c=e.chosenEvent;return Object(a.jsxs)(b.b.li,{className:"events-list__item"+function(){var e="";return"Kolokwium"==t.type?e+=" events-list__item--exam ":"Projekt"==t.type?e+=" events-list__item--project ":"Egzamin"==t.type?e+=" events-list__item--exam ":"Laboratorium"==t.type?e+=" events-list__item--lab ":"Inne"==t.type&&(e+=" events-list__item--other "),t==c&&(e+=" events-list__item--selected "),e}(),variants:{hidden:{opacity:0,x:100},show:{opacity:1,x:0,transition:{type:"spring",stiffness:600,damping:50}}},whileTap:{scale:.95},whileHover:{y:-5,scale:1.02},onClick:function(){return n(t)},children:[Object(a.jsx)("h3",{children:t.name}),Object(a.jsxs)("div",{className:"events-list__info",children:[Object(a.jsx)("div",{className:"events-list__time",children:t.time.slice(0,5)}),Object(a.jsx)("div",{className:"events-list__category",children:t.type})]})]},t.id)},E=function(e){var t=e.event;return Object(a.jsx)("div",{className:"app__info",children:t&&Object(a.jsxs)("div",{children:[Object(a.jsx)(b.b.h3,{initial:{y:10,opacity:0},animate:{y:0,opacity:1},transition:{type:"spring",stiffness:600,damping:50},children:t.name}),Object(a.jsx)(b.b.ul,{className:"app__links",variants:{hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.1,delayChildren:.1}}},initial:"hidden",animate:"show"}),Object(a.jsx)(b.b.div,{className:"app__info-text",initial:{y:50,opacity:0},animate:{y:0,opacity:1},transition:{type:"spring",stiffness:600,damping:50,delay:.1},children:t.description})]},t.id)})},N=function(){var e=Object(c.useState)([]),t=Object(d.a)(e,2),n=t[0],i=t[1],s=Object(c.useState)(),r=Object(d.a)(s,2),o=r[0],p=r[1],h=Object(j.c)((function(e){return e.chosenDate})),f=Object(j.c)((function(e){return e.chosenGroup})),v="https://aleksanderblaszkiewicz.pl/kiedykolos/get_events_for_day.php?date=".concat(h);Object(c.useEffect)((function(){i([]),m()}),[h,f]);var m=function(){var e=Object(u.a)(l.a.mark((function e(){var t,n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(v);case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,a=n.filter(_),i(a),p(a[0]),console.log(a);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=function(e){return"Wszystkie"==e.group_name||e.group_name==f?(console.log("event "+e.id+" should be displayed"),!0):(console.log("event "+e.id+" should NOT be displayed"),!1)};return Object(a.jsxs)("div",{className:"app__extension",children:[Object(a.jsxs)(b.b.div,{className:"app__events",children:[Object(a.jsxs)("h2",{className:"events__header",children:["Wydarzenia ",O()(h).format("DD.MM")]}),Object(a.jsx)(b.b.ul,{className:"events-list",variants:{hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.07}}},initial:"hidden",animate:n.length>0&&"show",children:n.map((function(e){return Object(a.jsx)(k,{event:e,setChosenEvent:p,chosenEvent:o},e.id)}))})]}),Object(a.jsx)(E,{event:o})]})},S=function(){return Object(a.jsx)(_,{})},C=n(4),D=function(){return Object(a.jsx)("div",{className:"container",children:Object(a.jsxs)("div",{className:"app",children:[Object(a.jsx)(w,{}),Object(a.jsx)(N,{})]})})},z=function(){return Object(a.jsxs)(C.c,{children:[Object(a.jsx)(C.a,{path:"/",exact:!0,component:D}),Object(a.jsx)(C.a,{path:"/admin",exact:!0,component:S})]})},T=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,43)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,i=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),i(e),s(e)}))},G=n(16),M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"2020-11-01",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_DATE":return t.payload;default:return e}},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Grupa 1",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_GROUP":return t.payload;default:return e}},H=Object(G.b)({chosenDate:M,chosenGroup:I}),L=n(28),Y=Object(G.c)(H,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());r.a.render(Object(a.jsx)(i.a.StrictMode,{children:Object(a.jsx)(j.a,{store:Y,children:Object(a.jsx)(L.a,{basename:"/",children:Object(a.jsx)(z,{})})})}),document.getElementById("root")),T()}},[[41,1,2]]]);
//# sourceMappingURL=main.165a1cf6.chunk.js.map