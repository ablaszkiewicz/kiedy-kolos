(this["webpackJsonpkiedy-kolos"]=this["webpackJsonpkiedy-kolos"]||[]).push([[0],{14:function(e,t,n){},34:function(e,t,n){},41:function(e,t,n){"use strict";n.r(t);var a=n(1),i=n(0),c=n.n(i),s=n(19),r=n.n(s),o=(n(34),n(14),n(6)),l=n.n(o),d=n(11),u=n(5),j=n(12),p=function(e){return{type:"SET",payload:e}},h=n(4),b=n(13),v=n.n(b),O=function(e){var t=e.day,n=e.active,i=e.events,c=e.swipeDirection,s=Object(j.b)();console.log(c);var r={hidden:{opacity:0,x:100*c},show:{opacity:1,x:0,transition:{type:"spring",stiffness:600,damping:50}}};return Object(a.jsxs)(h.a.div,{className:"calendar__day "+(n?"":"calendar__day--inactive"),tabindex:"0",onClick:function(){s(p(t))},variants:r,whileHover:{y:-2,scale:1.05},whileTap:{y:0,scale:.95},children:[Object(a.jsx)("div",{className:"events",children:Object(a.jsx)("ul",{className:"events__list",children:i.map((function(e){return Object(a.jsx)("li",{className:"events__item events__item--exam",children:e.short_name.toUpperCase()},e.id)}))})}),Object(a.jsx)("div",{className:"day__number",children:v()(t).format("DD")})]})},f=n(18),m=function(e){e.refreshEvents;var t,n,c=Object(i.useState)([]),s=Object(u.a)(c,2),r=s[0],o=s[1],j=Object(i.useState)([]),p=Object(u.a)(j,2),h=p[0],b=p[1],v=Object(i.useState)([]),O=Object(u.a)(v,2),m=O[0],x=O[1],y=Object(i.useState)(0),_=Object(u.a)(y,2),g=_[0],w=_[1],k=Object(i.useState)(0),N=Object(u.a)(k,2),S=N[0],z=N[1],D=Object(i.useState)(0),C=Object(u.a)(D,2),E=C[0],M=C[1],I=Object(i.useState)("2020-12-12"),T=Object(u.a)(I,2),L=T[0],Y=T[1],F=Object(i.useState)("12:00"),P=Object(u.a)(F,2),X=P[0],J=P[1],U=Object(i.useState)("Tu wpisz opis..."),B=Object(u.a)(U,2),H=B[0],K=B[1];Object(i.useEffect)((function(){R(),V(),W()}),[]);var R=function(){var e=Object(d.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://aleksanderblaszkiewicz.pl/kiedykolos/get_courses.php");case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,o(n),w(n[0].id);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),V=function(){var e=Object(d.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://aleksanderblaszkiewicz.pl/kiedykolos/get_groups.php");case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,b(n),z(n[0].id);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),W=function(){var e=Object(d.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://aleksanderblaszkiewicz.pl/kiedykolos/get_types.php");case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,x(n),M(n[0].id);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=Object(d.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({courseID:g,groupID:S,time:X,date:L,description:H,typeID:E}),mode:"no-cors"},e.next=3,fetch("https://aleksanderblaszkiewicz.pl/kiedykolos/add_event.php",t);case 3:n=e.sent,console.log(n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("select",{name:"course",id:"course",form:"add-event",value:g,onChange:function(e){w(e.target.value)},children:r.map((function(e){return Object(a.jsx)("option",{value:e.id,children:e.name},e.id)}))}),Object(a.jsx)("select",{name:"groupID",id:"groupID",form:"add-event",value:S,onChange:function(e){z(e.target.value)},children:h.map((function(e){return Object(a.jsx)("option",{value:e.id,children:e.name},e.id)}))}),Object(a.jsx)("select",{name:"typeID",id:"typeID",form:"add-event",value:E,onChange:function(e){M(e.target.value)},children:m.map((function(e){return Object(a.jsx)("option",{value:e.id,children:e.name},e.id)}))}),Object(a.jsx)("input",(t={type:"date",id:"date",name:"date",value:"2020-11-25",min:"2020-11-25",max:"2021-12-31"},Object(f.a)(t,"value",L),Object(f.a)(t,"onChange",(function(e){Y(e.target.value)})),t)),Object(a.jsx)("input",(n={type:"time",id:"time",name:"time",min:"07:00",value:"16:00:00",max:"21:00"},Object(f.a)(n,"value",X),Object(f.a)(n,"onChange",(function(e){J(e.target.value)})),n)),Object(a.jsx)("textarea",{id:"description",name:"description",rows:"4",cols:"50",value:H,onChange:function(e){K(e.target.value)}}),Object(a.jsx)("button",{onClick:A,children:"click here"})]})},x=function(){var e={hidden:{opacity:0,x:-25},show:{opacity:1,x:0}};return Object(a.jsx)("div",{className:"calendar__names",children:Object(a.jsxs)(h.a.ul,{variants:{hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.05}}},initial:"hidden",animate:"show",children:[Object(a.jsx)(h.a.li,{variants:e,children:"poniedzia\u0142ek"}),Object(a.jsx)(h.a.li,{variants:e,children:"wtorek"}),Object(a.jsx)(h.a.li,{variants:e,children:"\u015broda"}),Object(a.jsx)(h.a.li,{variants:e,children:"czwartek"}),Object(a.jsx)(h.a.li,{variants:e,children:"pi\u0105tek"}),Object(a.jsx)(h.a.li,{variants:e,children:"sobota"}),Object(a.jsx)(h.a.li,{variants:e,children:"niedziela"})]})})},y=function(){var e=Object(i.useState)([]),t=Object(u.a)(e,2),n=t[0],c=t[1],s=Object(i.useState)([]),r=Object(u.a)(s,2),o=r[0],b=r[1],f=Object(i.useState)(),m=Object(u.a)(f,2),y=m[0],_=m[1],g=Object(i.useState)(0),w=Object(u.a)(g,2),k=w[0],N=w[1],S=Object(i.useState)(1),z=Object(u.a)(S,2),D=z[0],C=z[1],E=Object(j.b)(),M=[7,1,2,3,4,5,6],I=v()();Object(i.useEffect)((function(){_(parseInt(I.format("MM"))),E(p(I.format("YYYY-MM-DD"))),L(),T()}),[]);var T=function(){var e=Object(d.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://aleksanderblaszkiewicz.pl/kiedykolos/get_events.php");case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,c(n),console.log(n);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=function(){for(var e=new Array(42),t=M[I.startOf("month").day()],n=I.startOf("month").subtract(t-1,"day"),a=0;a<42;a++)e[a]=n.add(a,"day").format("YYYY-MM-DD");b(e)},Y=function(e){var t=[];return n.forEach((function(n){n.date==e&&t.push(n)})),t},F=function(e){var t=I.add(k,"month");return v()(e).format("MM")==t.format("MM")},P={hidden:{opacity:0},show:{opacity:1}},X=o.map((function(e){return Object(a.jsx)(O,{active:F(e),day:e,events:Y(e),swipeDirection:D},e)})).reduce((function(e,t,n){return n%7===0&&e.push([]),e[e.length-1].push(t),e}),[]).map((function(e){return Object(a.jsx)(h.a.div,{className:"calendar__row",variants:P,initial:"hidden",animate:"show",children:e})}));return Object(a.jsxs)("div",{className:"app__calendar",children:[Object(a.jsxs)("div",{className:"calendar__month",children:[Object(a.jsx)("button",{className:"month__button",onClick:function(){return function(){C(-1);var e=k;e--,N(e),I=I.add(e,"month"),_(parseInt(I.format("MM"))),L()}()},children:"<"}),Object(a.jsx)(h.a.h2,{className:"month__title",initial:{x:50*D},animate:{x:0},transition:{type:"spring",stiffness:600,damping:50},children:["Stycze\u0144","Luty","Marzec","Kwiecie\u0144","Maj","Czerwiec","Lipiec","Sierpie\u0144","Wrzesie\u0144","Pa\u017adziernik","Listopad","Grudzie\u0144"][y-1]},y),Object(a.jsx)("button",{className:"month__button",onClick:function(){return function(){C(1);var e=k;e++,N(e),I=I.add(e,"month"),_(parseInt(I.format("MM"))),L()}()},children:">"})]}),Object(a.jsx)(x,{}),Object(a.jsx)(h.a.div,{className:"calendar__days",children:X})]})},_=function(e){var t=e.event,n=e.setChosenEvent;return console.log(t),Object(a.jsxs)(h.a.li,{className:"events-list__item "+("Kolokwium"==t.type?"events-list__item--exam":"Projekt"==t.type?"events-list__item--project":"Egzamin"==t.type?"events-list__item--exam":"Laboratorium"==t.type?"events-list__item--lab":"Inne"==t.type?"events-list__item--other":void 0),variants:{hidden:{opacity:0,x:100},show:{opacity:1,x:0,transition:{type:"spring",stiffness:600,damping:50}}},whileTap:{scale:.95},whileHover:{y:-5,scale:1.02},onClick:function(){return n(t)},children:[Object(a.jsx)("h3",{children:t.name}),Object(a.jsxs)("div",{className:"events-list__info",children:[Object(a.jsx)("div",{className:"events-list__time",children:t.time.slice(0,5)}),Object(a.jsx)("div",{className:"events-list__category",children:t.type})]})]},t.id)},g=function(e){var t=e.event;return Object(a.jsx)("div",{className:"app__info",children:t&&Object(a.jsxs)("div",{children:[Object(a.jsx)(h.a.h3,{initial:{y:10,opacity:0},animate:{y:0,opacity:1},transition:{type:"spring",stiffness:600,damping:50},children:t.name}),Object(a.jsx)(h.a.ul,{className:"app__links",variants:{hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.1,delayChildren:.1}}},initial:"hidden",animate:"show"}),Object(a.jsx)(h.a.div,{className:"app__info-text",initial:{y:50,opacity:0},animate:{y:0,opacity:1},transition:{type:"spring",stiffness:600,damping:50,delay:.1},children:t.description})]},t.id)})},w=function(){var e=Object(i.useState)([]),t=Object(u.a)(e,2),n=t[0],c=t[1],s=Object(i.useState)(),r=Object(u.a)(s,2),o=r[0],p=r[1],b=Object(j.c)((function(e){return e.chosenDate})),O="https://aleksanderblaszkiewicz.pl/kiedykolos/get_events_for_day.php?date=".concat(b);Object(i.useEffect)((function(){c([]),f()}),[b]);var f=function(){var e=Object(d.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(O);case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,c(n),p(n[0]);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.jsxs)("div",{className:"app__extension",children:[Object(a.jsxs)(h.a.div,{className:"app__events",children:[Object(a.jsxs)("h2",{className:"events__header",children:["Wydarzenia ",v()(b).format("DD.MM")]}),Object(a.jsx)(h.a.ul,{className:"events-list",variants:{hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.07}}},initial:"hidden",animate:n.length>0&&"show",children:n.map((function(e){return Object(a.jsx)(_,{event:e,setChosenEvent:p},e.id)}))})]}),Object(a.jsx)(g,{event:o})]})},k=function(){return Object(a.jsx)(m,{})},N=n(3),S=function(){return Object(a.jsx)("div",{className:"container",children:Object(a.jsxs)("div",{className:"app",children:[Object(a.jsx)(y,{}),Object(a.jsx)(w,{})]})})},z=function(){return Object(a.jsxs)(N.c,{children:[Object(a.jsx)(N.a,{path:"/",exact:!0,component:S}),Object(a.jsx)(N.a,{path:"/admin",exact:!0,component:k})]})},D=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,43)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),a(e),i(e),c(e),s(e)}))},C=n(16),E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"2020-11-01",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET":return t.payload;default:return e}},M=Object(C.b)({chosenDate:E}),I=n(28),T=Object(C.c)(M,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());r.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(j.a,{store:T,children:Object(a.jsx)(I.a,{basename:"/",children:Object(a.jsx)(z,{})})})}),document.getElementById("root")),D()}},[[41,1,2]]]);
//# sourceMappingURL=main.6daf3534.chunk.js.map