(this["webpackJsonpkiedy-kolos"]=this["webpackJsonpkiedy-kolos"]||[]).push([[0],{16:function(e,t,n){},34:function(e,t,n){},41:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n(0),r=n.n(c),i=n(19),s=n.n(i),o=(n(34),n(16),n(6)),u=n.n(o),d=n(11),l=n(5),j=n(12),p=function(e){return{type:"SET",payload:e}},h=n(4),b=n(13),O=n.n(b),f=function(e){var t=e.day,n=e.active,c=e.events,r=e.swipeDirection,i=Object(j.b)();console.log(r);var s={hidden:{opacity:0,x:100*r},show:{opacity:1,x:0,transition:{type:"spring",stiffness:600,damping:50}}};return Object(a.jsxs)(h.a.div,{className:"calendar__day "+(n?"":"calendar__day--inactive"),tabindex:"0",onClick:function(){i(p(t))},variants:s,whileHover:{y:-2,scale:1.05},whileTap:{y:0,scale:.95},children:[Object(a.jsx)("div",{className:"events",children:Object(a.jsx)("ul",{className:"events__list",children:c.map((function(e){return Object(a.jsx)("li",{className:"events__item events__item--exam",children:e.short_name.toUpperCase()},e.id)}))})}),Object(a.jsx)("div",{className:"day__number",children:O()(t).format("DD")})]})},v=n(18),m=function(e){e.refreshEvents;var t,n,r=Object(c.useState)([]),i=Object(l.a)(r,2),s=i[0],o=i[1],j=Object(c.useState)([]),p=Object(l.a)(j,2),h=p[0],b=p[1],O=Object(c.useState)([]),f=Object(l.a)(O,2),m=f[0],x=f[1],y=Object(c.useState)(0),_=Object(l.a)(y,2),k=_[0],g=_[1],w=Object(c.useState)(0),S=Object(l.a)(w,2),D=S[0],z=S[1],N=Object(c.useState)(0),C=Object(l.a)(N,2),M=C[0],E=C[1],I=Object(c.useState)("2020-12-12"),T=Object(l.a)(I,2),Y=T[0],L=T[1],F=Object(c.useState)("12:00"),P=Object(l.a)(F,2),X=P[0],J=P[1],U=Object(c.useState)("Tu wpisz opis..."),B=Object(l.a)(U,2),R=B[0],V=B[1];Object(c.useEffect)((function(){A(),G(),H()}),[]);var A=function(){var e=Object(d.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://aleksanderblaszkiewicz.pl/kiedykolos/get_courses.php");case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,o(n),g(n[0].id);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),G=function(){var e=Object(d.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://aleksanderblaszkiewicz.pl/kiedykolos/get_groups.php");case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,b(n),z(n[0].id);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),H=function(){var e=Object(d.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://aleksanderblaszkiewicz.pl/kiedykolos/get_types.php");case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,x(n),E(n[0].id);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),K=function(){var e=Object(d.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({courseID:k,groupID:D,time:X,date:Y,description:R,typeID:M}),mode:"no-cors"},e.next=3,fetch("https://aleksanderblaszkiewicz.pl/kiedykolos/add_event.php",t);case 3:n=e.sent,console.log(n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("select",{name:"course",id:"course",form:"add-event",value:k,onChange:function(e){g(e.target.value)},children:s.map((function(e){return Object(a.jsx)("option",{value:e.id,children:e.name},e.id)}))}),Object(a.jsx)("select",{name:"groupID",id:"groupID",form:"add-event",value:D,onChange:function(e){z(e.target.value)},children:h.map((function(e){return Object(a.jsx)("option",{value:e.id,children:e.name},e.id)}))}),Object(a.jsx)("select",{name:"typeID",id:"typeID",form:"add-event",value:M,onChange:function(e){E(e.target.value)},children:m.map((function(e){return Object(a.jsx)("option",{value:e.id,children:e.name},e.id)}))}),Object(a.jsx)("input",(t={type:"date",id:"date",name:"date",value:"2020-11-25",min:"2020-11-25",max:"2021-12-31"},Object(v.a)(t,"value",Y),Object(v.a)(t,"onChange",(function(e){L(e.target.value)})),t)),Object(a.jsx)("input",(n={type:"time",id:"time",name:"time",min:"07:00",value:"16:00:00",max:"21:00"},Object(v.a)(n,"value",X),Object(v.a)(n,"onChange",(function(e){J(e.target.value)})),n)),Object(a.jsx)("textarea",{id:"description",name:"description",rows:"4",cols:"50",value:R,onChange:function(e){V(e.target.value)}}),Object(a.jsx)("button",{onClick:K,children:"click here"})]})},x=function(){var e={hidden:{opacity:0,x:-25},show:{opacity:1,x:0}};return Object(a.jsx)("div",{className:"calendar__names",children:Object(a.jsxs)(h.a.ul,{variants:{hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.05}}},initial:"hidden",animate:"show",children:[Object(a.jsx)(h.a.li,{variants:e,children:"poniedzia\u0142ek"}),Object(a.jsx)(h.a.li,{variants:e,children:"wtorek"}),Object(a.jsx)(h.a.li,{variants:e,children:"\u015broda"}),Object(a.jsx)(h.a.li,{variants:e,children:"czwartek"}),Object(a.jsx)(h.a.li,{variants:e,children:"pi\u0105tek"}),Object(a.jsx)(h.a.li,{variants:e,children:"sobota"}),Object(a.jsx)(h.a.li,{variants:e,children:"niedziela"})]})})},y=function(){var e=Object(c.useState)([]),t=Object(l.a)(e,2),n=t[0],r=t[1],i=Object(c.useState)([]),s=Object(l.a)(i,2),o=s[0],b=s[1],v=Object(c.useState)(),m=Object(l.a)(v,2),y=m[0],_=m[1],k=Object(c.useState)(0),g=Object(l.a)(k,2),w=g[0],S=g[1],D=Object(c.useState)(1),z=Object(l.a)(D,2),N=z[0],C=z[1],M=Object(j.b)(),E=[7,1,2,3,4,5,6],I=O()();Object(c.useEffect)((function(){_(parseInt(I.format("MM"))),M(p(I.format("YYYY-MM-DD"))),Y(),T()}),[]);var T=function(){var e=Object(d.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://aleksanderblaszkiewicz.pl/kiedykolos/get_events.php");case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,r(n),console.log(n);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Y=function(){for(var e=new Array(42),t=E[I.startOf("month").day()],n=I.startOf("month").subtract(t-1,"day"),a=0;a<42;a++)e[a]=n.add(a,"day").format("YYYY-MM-DD");b(e)},L=function(e){var t=[];return n.forEach((function(n){n.date==e&&t.push(n)})),t},F=function(e){var t=I.add(w,"month");return O()(e).format("MM")==t.format("MM")},P={hidden:{opacity:0},show:{opacity:1}},X=o.map((function(e){return Object(a.jsx)(f,{active:F(e),day:e,events:L(e),swipeDirection:N},e)})).reduce((function(e,t,n){return n%7===0&&e.push([]),e[e.length-1].push(t),e}),[]).map((function(e){return Object(a.jsx)(h.a.div,{className:"calendar__row",variants:P,initial:"hidden",animate:"show",children:e})}));return Object(a.jsxs)("div",{className:"app__calendar",children:[Object(a.jsxs)("div",{className:"calendar__month",children:[Object(a.jsx)("button",{className:"month__button",onClick:function(){return function(){C(-1);var e=w;e--,S(e),I=I.add(e,"month"),_(parseInt(I.format("MM"))),Y()}()},children:"<"}),Object(a.jsx)(h.a.h2,{className:"month__title",initial:{x:50*N},animate:{x:0},transition:{type:"spring",stiffness:600,damping:50},children:["Stycze\u0144","Luty","Marzec","Kwiecie\u0144","Maj","Czerwiec","Lipiec","Sierpie\u0144","Wrzesie\u0144","Pa\u017adziernik","Listopad","Grudzie\u0144"][y-1]},y),Object(a.jsx)("button",{className:"month__button",onClick:function(){return function(){C(1);var e=w;e++,S(e),I=I.add(e,"month"),_(parseInt(I.format("MM"))),Y()}()},children:">"})]}),Object(a.jsx)(x,{}),Object(a.jsx)(h.a.div,{className:"calendar__days",children:X})]})},_=function(){return Object(a.jsx)(m,{})},k=n(3),g=function(){return Object(a.jsx)("div",{className:"container",children:Object(a.jsx)("div",{className:"app",children:Object(a.jsxs)(k.c,{children:[Object(a.jsx)(k.a,{path:"/",exact:!0,component:y}),Object(a.jsx)(k.a,{path:"/admin",exact:!0,component:_})]})})})},w=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,43)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),r(e),i(e)}))},S=n(15),D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"2020-11-01",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET":return t.payload;default:return e}},z=Object(S.b)({chosenDate:D}),N=n(28),C=Object(S.c)(z,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());s.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(j.a,{store:C,children:Object(a.jsx)(N.a,{basename:"/",children:Object(a.jsx)(g,{})})})}),document.getElementById("root")),w()}},[[41,1,2]]]);
//# sourceMappingURL=main.0477dd9b.chunk.js.map